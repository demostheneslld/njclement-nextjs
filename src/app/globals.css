@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playfair+Display:wght@400..700&family=Fira+Code:wght@300..700&display=swap');

:root {
  /* neutrals */
  --c-neutral: #1b1f22;
  --c-neutral-sub: #2b3238;
  --c-text-high: #ffffff;
  --c-text-med: #c0c6ca;
  --c-text-low: #7d868d;

  /* functional accents */
  --c-accent: #c97a3c;
  --c-accent-sub: #4a6645;
  --c-danger: #e85f4d;

  /* primary theme colors (biome-aware) */
  --c-primary: var(--c-accent);
  --c-primary-sub: var(--c-accent-sub);

  /* elevations */
  --c-glass-top: rgba(32, 38, 42, 0.15);
  --c-glass-bot: rgba(19, 22, 26, 0.25);

  /* typography */
  --font-head: 'Playfair Display', serif;
  --font-body: 'Inter', system-ui, sans-serif;
  --fs-hero: clamp(2.2rem, 5vw, 3.4rem);
  --fs-h1: 2rem;
  --fs-h2: 1.5rem;
  --fs-body-lg: 1.15rem;
  --fs-body: 1rem;
  --fs-mono: 0.9rem;
  --lh-tight: 1.1;
  --lh-body: 1.55;

  /* spacing */
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 16px;
  --space-4: 24px;
  --space-5: 32px;
  --space-6: 48px;

  /* radius & shadow */
  --radius-card: 20px;
  --radius-pill: 9999px;
  --shadow-accent: 0 0 40px 0 rgba(201, 122, 60, 0.35);
  --shadow-elev-1: 0 2px 6px rgba(0, 0, 0, 0.35);
  --shadow-elev-2: 0 6px 14px rgba(0, 0, 0, 0.45);
}

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Biome System */
.biome-desert-oasis {
  --c-accent: #FF9650;
  --c-accent-sub: #FDBE7A;
  --c-danger: #E85243;
  --c-primary: #237f8b;
  --c-primary-sub: #479297;
  --c-neutral: #0b0a0f;
  --c-neutral-sub: #433B55;
}

.biome-misty-lava-forest {
  --c-accent: #FF5418;
  --c-accent-sub: #FF7B3C;
  --c-danger: #D93C1F;
  --c-primary: #2E4045;
  --c-primary-sub: #698488;
  --c-neutral: #121617;
  --c-neutral-sub: #1E2426;
}

/* Background Images */
.biome-misty-lava-forest body {
  background: url('/biomes/misty-lava-forest.png') center/cover fixed no-repeat var(--c-neutral) !important;
}

/* Default fallback for SSR - will be immediately replaced by BiomeProvider */
html:not([class*="biome-"]) body {
  background: var(--c-neutral) !important;
}

.biome-desert-oasis body {
  background: url('/biomes/desert-oasis.png') center/cover fixed no-repeat var(--c-neutral) !important;
}

body {
  transition: background-image 0.5s ease-in-out;
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--c-neutral);
    color: var(--c-text-med);
    font-family: var(--font-body);
    line-height: var(--lh-body);
    -webkit-font-smoothing: antialiased;
  }

  h1,
  h2,
  h3 {
    font-family: var(--font-head);
    line-height: var(--lh-tight);
    color: var(--c-text-high);
    @apply tracking-tight;
  }

  h1 {
    font-size: var(--fs-h1);
    @apply font-bold mb-6;
  }

  h2 {
    font-size: var(--fs-h2);
    @apply font-semibold mb-4;
  }

  h3 {
    font-size: var(--fs-body-lg);
    @apply font-medium mb-3;
  }

  p {
    font-family: var(--font-body);
    font-size: var(--fs-body);
    line-height: var(--lh-body);
    color: var(--c-text-high);
    @apply mb-4;
  }

  input,
  textarea,
  select {
    font-family: var(--font-body);
    font-size: var(--fs-body);
    color: var(--c-text-high);
    background-color: var(--c-neutral-sub);
    border: 1px solid var(--c-text-low);
    @apply px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:ring-offset-2 transition-all duration-200;
  }

  input:hover,
  textarea:hover,
  select:hover {
    border-color: var(--c-text-med);
  }

  input:focus,
  textarea:focus,
  select:focus {
    border-color: var(--c-accent);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--c-text-med);
  }
}

@layer components {

  /* Glass Components */
  .glass-card {
    background-image: linear-gradient(var(--c-glass-top), var(--c-glass-bot));
    backdrop-filter: blur(24px) saturate(160%);
    border-radius: var(--radius-card);
    box-shadow: var(--shadow-elev-1);
    color: var(--c-text-high);
    transition: all 0.5s;
  }

  .glass-card:hover {
    box-shadow: var(--shadow-elev-2);
  }


  .form-glass input,
  .form-glass textarea,
  .form-glass select {
    background-image: linear-gradient(var(--c-glass-top), var(--c-glass-bot));
    backdrop-filter: blur(24px) saturate(160%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: var(--shadow-elev-1);
  }

  .form-glass input:hover,
  .form-glass textarea:hover,
  .form-glass select:hover {
    border-color: rgba(255, 255, 255, 0.3);
  }

  /* Glass Fill Effect */
  .glass-fill {
    position: relative;
    overflow: hidden;
  }

  .glass-fill::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: linear-gradient(var(--c-glass-top), var(--c-glass-bot));
    backdrop-filter: blur(12px) saturate(140%);
    opacity: 0;
    transition: opacity 0.3s ease;
    border-radius: inherit;
    z-index: -1;
  }

  .glass-fill:hover::before {
    opacity: 1;
  }

  /* Button System */
  .btn {
    @apply inline-flex items-center justify-center border border-transparent rounded-md shadow-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    background-color: var(--c-accent);
    color: var(--c-text-high);
    box-shadow: var(--shadow-elev-1);
  }

  .btn-primary:hover:not(:disabled) {
    box-shadow: var(--shadow-accent);
    transform: translateY(-1px);
  }

  .btn-secondary {
    background-color: transparent;
    color: var(--c-accent);
    border: 1px solid var(--c-accent);
    backdrop-filter: blur(8px);
  }

  .btn-secondary:hover:not(:disabled) {
    color: var(--c-text-high);
    border-color: var(--c-accent);
    box-shadow: var(--shadow-elev-1);
    transform: translateY(-1px);
  }

  .btn-accent {
    background-color: var(--c-danger);
    color: var(--c-text-high);
    box-shadow: var(--shadow-elev-1);
  }

  .btn-accent:hover:not(:disabled) {
    box-shadow: var(--shadow-elev-2);
    transform: translateY(-1px);
  }

  .btn-ghost {
    background-color: transparent;
    color: var(--c-accent);
    backdrop-filter: blur(8px);
  }

  .btn-ghost:hover:not(:disabled) {
    color: var(--c-text-high);
    box-shadow: var(--shadow-elev-1);
    transform: translateY(-1px);
  }

  .btn-outline {
    background-color: transparent;
    color: var(--c-text-med);
    border: 1px solid var(--c-text-low);
    backdrop-filter: blur(8px);
  }

  .btn-outline:hover:not(:disabled) {
    color: var(--c-text-high);
    border-color: var(--c-text-med);
    box-shadow: var(--shadow-elev-1);
    transform: translateY(-1px);
  }

  /* Layout Components */
  .section {
    @apply py-16 md:py-24 relative overflow-hidden;
  }

  .glass-surface {
    @apply max-w-7xl mx-auto px-6 relative z-10;
  }
}

/* Custom Utilities */
.text-gradient {
  background: linear-gradient(45deg, var(--c-accent), var(--c-accent-sub));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: transparent;
}

/* Animations */
@keyframes float {

  0%,
  100% {
    transform: translateY(0);
  }

  50% {
    transform: translateY(-10px);
  }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

@layer utilities {

  /* Design System Color Utilities */
  .text-high {
    color: var(--c-text-high);
  }

  .text-med {
    color: var(--c-text-med);
  }

  .text-low {
    color: var(--c-text-low);
  }

  .text-accent {
    color: var(--c-accent);
  }

  .text-accent-sub {
    color: var(--c-accent-sub);
  }

  .text-danger {
    color: var(--c-danger);
  }

  .bg-neutral {
    background-color: var(--c-neutral);
  }

  .bg-neutral-sub {
    background-color: var(--c-neutral-sub);
  }

  .bg-primary {
    background-color: var(--c-primary);
  }

  .bg-primary-sub {
    background-color: var(--c-primary-sub);
  }

  .bg-accent {
    background-color: var(--c-accent);
  }

  .bg-accent-sub {
    background-color: var(--c-accent-sub);
  }

  .bg-danger {
    background-color: var(--c-danger);
  }

  /* Glass Background Utilities */
  .bg-glass-elev1 {
    background-image: linear-gradient(var(--c-glass-top), var(--c-glass-bot));
  }

  .bg-glass-elev2 {
    background-image: linear-gradient(rgba(32, 38, 42, 0.25), rgba(19, 22, 26, 0.35));
  }

  /* Shadow Utilities */
  .shadow-elev1 {
    box-shadow: var(--shadow-elev-1);
  }

  .shadow-elev2 {
    box-shadow: var(--shadow-elev-2);
  }

  .shadow-accent {
    box-shadow: var(--shadow-accent);
  }

  /* Typography Utilities */
  .font-head {
    font-family: var(--font-head);
  }

  .font-body {
    font-family: var(--font-body);
  }

  .text-hero {
    font-size: var(--fs-hero);
  }

  .text-h1 {
    font-size: var(--fs-h1);
  }

  .text-h2 {
    font-size: var(--fs-h2);
  }

  .text-body-lg {
    font-size: var(--fs-body-lg);
  }

  .text-body {
    font-size: var(--fs-body);
  }

  .text-mono {
    font-size: var(--fs-mono);
  }

  .leading-tight {
    line-height: var(--lh-tight);
  }

  .leading-body {
    line-height: var(--lh-body);
  }

  /* Border Radius Utilities */
  .rounded-card {
    border-radius: var(--radius-card);
  }

  .rounded-pill {
    border-radius: var(--radius-pill);
  }

  /* Logo Mask */
  .mask-logo {
    width: 120px;
    height: 32px;
    mask: url('/logo.svg') no-repeat center / contain;
    -webkit-mask: url('/logo.svg') no-repeat center / contain;
  }
}